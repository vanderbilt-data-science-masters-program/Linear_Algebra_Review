---
title: "Linear Algebra R Incomplete Examples"
date: "8/16/2019"
author: "Your Name"
output:
  html_document: 
    code_folding: hide
    theme: cosmo
    toc: yes
    toc_depth: 5
    toc_float: true
editor_options: 
  chunk_output_type: inline
---

## Description: 

This supplement is meant to instruct and clarify applications of the key concepts of linear algebra.

```{r message=FALSE, warning=FALSE}
# install.packages("MASS")
# install.packages("knitr")
# install.packages("matlib")
# install.packages("pcaPP")
# install.packages("devtools")
# install_github("vqv/ggbiplot")

library(MASS)
library(knitr)
library(kableExtra)
library(tidyverse)
library(matlib)
library(pcaPP)
library(devtools)
library(ggbiplot)

example.data <- mtcars
```

# 1. Introduction to Matrices/Vectors
## a. Definitions and Terms

+ Create a vector with 3 elements.

$$v=\begin{pmatrix} 
1 \\
7 \\
3
\end{pmatrix}$$

```{r}
v = c(1,7,3)
```

+ Create a matrix with 6 elements filling by rows. 

$$A=\begin{bmatrix} 
2 & 4 & 3 \\
1 & 5 & 7 
\end{bmatrix}$$

```{r}
A = matrix( 
  c(2, 4, 3, 1, 5, 7), # the data elements 
  nrow=2,              # number of rows 
  ncol=3,              # number of columns 
  byrow = TRUE)        # fill matrix by rows (default)
```

+ Create a matrix with the same 6 elements filling by columns. 

$$B=\begin{bmatrix} 
2 & 1  \\
4 & 5 \\
3 & 7
\end{bmatrix}$$

```{r}
B = matrix( 
  c(2, 4, 3, 1, 5, 7), # the data elements 
  nrow=3,              # number of rows 
  ncol=2,              # number of columns 
  byrow = FALSE)       # fill matrix by columns
```

+ Create a square matrix with 9 elements. 

$$C=\begin{bmatrix} 
25 & 4 & 31  \\
1 & 52 & 7 \\
81 & 22 & 13
\end{bmatrix}$$

```{r}
C = matrix( 
  c(25, 4, 31, 1, 52, 7, 81, 22, 13), # the data elements 
  nrow=3,              # number of rows 
  byrow = TRUE)        # fill matrix by rows (default)
```

+ Create a identity matrix with 9 elements. 

$$I=\begin{bmatrix} 
1 &0&0  \\
0 & 1 & 0 \\
0 & 0 & 1
\end{bmatrix}$$

```{r}
I = diag(1,      # The element(s) on the diagonal of matrix
         nrow=3) # number of rows 
                 # (assumes same number of columns or square)
```

+ Create a unit matrix with 9 elements. 

$$U =\begin{bmatrix} 
1 &1&1  \\
1 & 1 & 1 \\
1 & 1 & 1
\end{bmatrix}$$

```{r}
U = matrix(1,
           nrow=3,
           ncol=3)
```

+ Label the rows and columns of the matrix. 

$$A=\begin{matrix}
& col1 & col2 & col3 \\
row1 & 2 & 4 & 3 \\
row2 & 1 & 5 & 7 
\end{matrix}$$

```{r}

```

+ Transpose a matrix. 

$$A^T=\begin{matrix}
& row1 & row2  \\
col1 & 2 & 1 \\
col2 & 4 & 5 \\
col3 & 3 & 7  
\end{matrix}$$

```{r}

```

## b. Operations and Properties

Multiplication:

+ Multiply every element in matrix with a constant. 

$$5\times B=\begin{bmatrix}
10&5 \\
20&25 \\
15&35 \\
\end{bmatrix}$$

```{r}
k = 5


```

+ Multiply each column in matrix by different constant. 

$$\begin{bmatrix} 
0\times B_{col1} & 2\times B_{col2} \\
\end{bmatrix}= \begin{bmatrix}
0&2 \\
0&10 \\
0&14 \\
\end{bmatrix}$$

```{r}

```

+ Multiply vector and matrix using matrix multiplcation. 

$$v^T*B=\begin{bmatrix}
39&57 \\
\end{bmatrix}$$
$$B^T*v=\begin{bmatrix}
39 \\
57 \\
\end{bmatrix}$$

```{r}

```

+ Multiply 2 matrices using matrix multiplcation. 

$$AB=\begin{bmatrix}
29&43 \\
43&75 \\
\end{bmatrix}$$

$$BA=\begin{bmatrix}
5&13&13 \\
13&41&47 \\
13&47&58 \\
\end{bmatrix}$$

```{r}

```

+ Multiply 3 matrices together.

$$BAC = \begin{bmatrix}
1191&982&415 \\
4173&3218&1301 \\
5070&3772&1486 \\
\end{bmatrix}$$

```{r}

```

Addition:

+ Add constant (-3) to every element in a matrix (C). 

$$C^{*} = \begin{bmatrix}
22&1&28 \\
-2&49&4 \\
78&19&10 \\
\end{bmatrix}$$

```{r}

```

+ Add different constant to each row of a matrix. 

$$\hat{C}=\begin{bmatrix} 
C_{col1}+0 & C_{col2}-5 & C_{col3}+7 \\
\end{bmatrix}= \begin{bmatrix}
25&-1&38 \\
1&47&14 \\
81&17&20 \\
\end{bmatrix}$$

```{r}

```

# 2. Systems of Linear Equations 
## a. Gaussian Elmination 

Solve the folowing for $x$:

$$Dx=e$$
$$D=\begin{bmatrix}
1&1&1 \\
2&3&7 \\
-1&0&-9 
\end{bmatrix}$$

$$e=\begin{pmatrix}
3 \\
0 \\
17 
\end{pmatrix}$$

```{r}
D <- matrix(c(1,1,1,2,3,7,-1,0,-9), nrow=3, byrow = TRUE)

e <- c(3,0,17)

# gaussianElimination(D,e, verbose=TRUE, fractions=TRUE)
```

## b. Linear Independence 

Are the following vectors linearly independent?

$$v_1 = \begin{pmatrix}
2 \\
5 \\
3 
\end{pmatrix}$$

$$v_2 = \begin{pmatrix}
1 \\
1 \\
1 
\end{pmatrix}$$

$$v_3 = \begin{pmatrix}
4 \\
-2 \\
0 
\end{pmatrix}$$


```{r}
V <- matrix(c(2, 5, 3,1, 1, 1,4,-2,0), nrow=3, byrow = FALSE)
```

One way to answer this question is find the solution to:

$$k_1v_1+k_2v_2+k_3v_3=0$$


Solving Systems of Equations Examples

+ Three consistent equations. 

$$x_1 - x_2  =  2 $$
$$2x_1 + 2x_2  =  1 $$
$$3x_1 + x_2  =  3 $$
Solution:

```{r}
A <- matrix(c(1,2,3, -1, 2, 1), 3, 2)
b <- c(2,1,3)
```


+ Three inconsistent equations. 

$$x_1 - x_2  =  2 $$
$$2x_1 + 2x_2  =  1 $$
$$3x_1 + x_2  =  6 $$

Solution:
```{r}
b.new <- c(2,1,6)
```


## c. Inverses

$$F=\begin{bmatrix}
2&1&0 \\
-2&-1&3 \\
0&1&-2 \\
\end{bmatrix}$$

```{r}
F <- matrix(c(2,-2,0,1,-1,1,0,3,-2), nrow=3)
```

Show the following hold: 

+ `inv(inv(A)) = A`

+ `inv(t(A)) = t(inv(A))`

+ `inv( k*A ) = (1/k) * inv(A)`

+ `inv(A * B) = inv(B) %*% inv(A)`

+ `inv(A) * A = diag(nrow(A))`

## d. Norm and Trace and  Determinant

How to code:

```{r}

```

Some properties include:

+ `trace(A) == trace(t(A))`

+ `trace(alpha * A) == alpha * trace(A)`

+ `trace(A %*% B) == trace(B %*% A)`

+ `trace(A) == trace(crossprod(crossprod(B,A),solve(B)))`

+ `det(inv(A))=1/det(A)=inv(det(A))`

+ `det(A) != 0, so inverse exists`

# 3. Additional Topics

## a. The Moore Penrose Pseudoinverse

How to code:

```{r}

```

## b. Linear Regression

This is a very simple example. You will learn a lot more in class this semester about how to build and interpret linear models. 

Here we fit a linear model that predicts 1974 car fuel consumption, more specifically miles per gallon, using car weight. We can see in the graph that as car weight increases mpg decreases. Therefore there is a negative trend between weight and mpg in this sample. 

```{r}

```

## c. Principal Component Analysis

`mtcars`: This dataset consists of data on 32 models of car, taken from an American motoring magazine (1974 Motor Trend magazine). For each car, you have 11 features, expressed in varying units. 

We will consider only the numeric variables for the PCA (not the categorical ones `vs` and `am`). We fit a PCA object to the scaled and centered data. Each of these 9 components explains a percentage of the total variation in the dataset. 

```{r}

```

# Sources

+ [Overview of All Topics](https://medium.com/@rathi.ankit/linear-algebra-for-data-science-a9648b9daee0)
 
+ [Inverse Example](https://cran.r-project.org/web/packages/matlib/vignettes/inv-ex1.html)

+ [Trace Properties](https://rpubs.com/aaronsc32/matrix-trace)

+ [Solving Linear Equations](https://cran.r-project.org/web/packages/matlib/vignettes/linear-equations.html)

+ [Linear Regrssion Example](http://r-statistics.co/Linear-Regression.html)

+ [PCA Example](https://www.datacamp.com/community/tutorials/pca-analysis-r)

+ [More detailed explanation of PCA](https://hadrienj.github.io/posts/Deep-Learning-Book-Series-2.12-Example-Principal-Components-Analysis/?source=post_page-----a9648b9daee0----------------------)

+ [SVD Example](https://stats.idre.ucla.edu/r/codefragments/svd_demos/)

